{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE HTML>
<html>
    <head>
        <title>TASSEL Gala - Donate</title>
        <meta name="description" content="donation page" />
        <meta name="keywords" content="website keywords, website keywords" />
        <meta name='viewport' content='width=device-width, inital-scale=1' />
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="{% static 'event/tickets.css' %}">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow&display=swap" rel="stylesheet">
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function(){
                $(".not-selected").hover(function(){
                    $(this).css({'background': 'rgb(255, 255, 255)'});
                    $('.not-current', this).css({'color': 'black'});
                    }, function(){
                    $(this).css({'background': 'transparent'});
                    $('.not-current', this).css({'color': 'rgb(255, 255, 255)'});
                });
                $("#id_donation_type").on('change', function() {
                    var donations=$(this).val();
                    if (donations=='general'){
                        var amount=$('#id_your_donation').val();
                        $('#number').css({'display': 'none'});
                        $('#amount').css({'display': 'block'});
                        $('#item1').css({'display': 'none'});
                        $('#item2').css({'display': 'none'});
                        $('#item3').css({'display': 'none'});
                        $('#item4').css({'display': 'none'});
                        $('#general').css({'display': 'block'});
                        $('#cost h3').html("Your donation: $" + amount + ".00");
                    }
                    else if (donations=='item1'){
                        var number=$("#id_number_of_items").val();
                        $('#number').css({'display': 'block'});
                        $('#amount').css({'display': 'none'});
                        $('#item1').css({'display': 'block'});
                        $('#item2').css({'display': 'none'});
                        $('#item3').css({'display': 'none'});
                        $('#item4').css({'display': 'none'});
                        $('#general').css({'display': 'none'});
                        $('#cost h3').html("Your donation: $" + number*75 + ".00");
                    }
                    else if (donations=='item2'){
                        var number=$("#id_number_of_items").val();
                        $('#number').css({'display': 'block'});
                        $('#amount').css({'display': 'none'});
                        $('#item1').css({'display': 'none'});
                        $('#item2').css({'display': 'block'});
                        $('#item3').css({'display': 'none'});
                        $('#item4').css({'display': 'none'});
                        $('#general').css({'display': 'none'});
                        $('#cost h3').html("Your donation: $" + number*100 + ".00");
                    }
                    else if (donations=='item3'){
                        var number=$("#id_number_of_items").val();
                        $('#number').css({'display': 'block'});
                        $('#amount').css({'display': 'none'});
                        $('#item1').css({'display': 'none'});
                        $('#item2').css({'display': 'none'});
                        $('#item3').css({'display': 'block'});
                        $('#item4').css({'display': 'none'});
                        $('#general').css({'display': 'none'});
                        $('#cost h3').html("Your donation: $" + number*125 + ".00");
                    }
                    else if (donations=='item4'){
                        var number=$("#id_number_of_items").val();
                        $('#number').css({'display': 'block'});
                        $('#amount').css({'display': 'none'});
                        $('#item1').css({'display': 'none'});
                        $('#item2').css({'display': 'none'});
                        $('#item3').css({'display': 'none'});
                        $('#item4').css({'display': 'block'});
                        $('#general').css({'display': 'none'});
                        $('#cost h3').html("Your donation: $" + number*150 + ".00");
                    }
                });
                $("#id_your_donation").on('change', function() {
                    var amount=$(this).val();
                    $('#cost h3').html("Your donation: $" + amount + ".00");
                });
                $("#id_number_of_items").on('change', function() {
                    var donations=$("#id_donation_type").val();
                    var number=$(this).val();
                    if (donations=='item1'){
                        $('#cost h3').html("Your donation: $" + number*75 + ".00");
                    }
                    else if (donations=='item2'){
                        $('#cost h3').html("Your donation: $" + number*100 + ".00");
                    }
                    else if (donations=='item3'){
                        $('#cost h3').html("Your donation: $" + number*125 + ".00");
                    }
                    else if (donations=='item4'){
                        $('#cost h3').html("Your donation: $" + number*150 + ".00");
                    }
                });
                $("#donationAmountButton").on('click', function() {
                    $('#donationInfo').css({'display': 'block'});
                    $('#donationAmount').css({'display': 'none'});
                    $('#donationAmountButton').css({'display': 'none'});
                });
            });
        </script>
    </head>
    <body>
        <picture>
            <source srcset="{% static 'event/donate.webp' %}" type="image/webp" class='img-responsive'>
            <source srcset="{% static 'event/donate.jpg' %}" type="image/jpeg" class='img-responsive'> 
            <img src="{% static 'event/donate.jpg' %}" class='img-responsive' id='banner' alt='banner'>
        </picture>
        <a href="{% url 'event-home' %}"><img src="{% static 'event/tassel_logo.png' %}" id='top-2'></a>
        <div id="header">
            <a href="{% url 'event-home' %}"><img src="{% static 'event/tassel_logo.png' %}" class='img-responsive' id='top'></a>
            <ul id="menu">
                <li class="not-selected"><a href="{% url 'event-home' %}" class='not-current'>Home</a></li>
                <li class='not-selected'><a href="{% url 'buy' %}" class='not-current'>Tickets</a></li>
                <li class='selected'><a href="https://secure.squarespace.com/checkout/donate?donatePageId=5892759d6a49632fcab4171a&ss_cid=3832ac65-17c9-417a-a7fd-9667bda7ae65&ss_cvisit=1571044001046&ss_cvr=0a3546fe-4328-4da5-96a8-9b287e8adc88%7C1571044000888%7C1571044000888%7C1571044000888%7C1" target="_blank" id='current'>Donate</a></li>
            </ul>
        </div>
        <div id="donation_form">
            <h1>DONATION</h1>
            <form method="post">
                {% csrf_token %}
                <div id='donationAmount'>
                    <div id='selection' class='form'>
                        {{ form.donation_type|as_crispy_field }}
                    </div>
                    <div id='item1'>
                        <h3>Your donation will help ... item1</h3>
                    </div>
                    <div id='item2'>
                        <h3>Your donation will help ... item2</h3>
                    </div>
                    <div id='item3'>
                        <h3>Your donation will help ... item3</h3>
                    </div>
                    <div id='item4'>
                        <h3>Your donation will help ... item4</h3>
                    </div>
                    <div id='general'>
                        <h3>Your donation will be used for whatever is needed the most.</h3>
                    </div>
                    <div id='number' class='form'>
                        {{ form.number_of_items|as_crispy_field }}
                    </div>
                    <div id='amount' class='form'>
                        {{ form.your_donation|as_crispy_field }}
                    </div>
                    <div id='fee' class='form'>
                        {{ form.cover_the_transaction_fee|as_crispy_field }}
                    </div>
                </div>  
                    <div id='cost'>
                        <h3>Your donation: $0.00</h3>
                    </div>
                <div id='donationInfo' class='form'>
                    {{ form.first_Name|as_crispy_field }}
                    {{ form.last_Name|as_crispy_field }}
                    {{ form.email|as_crispy_field }}
                    <input type='submit' name='donations' value='Proceed to Donation'>
                </div>
            </form>
            <button id='donationAmountButton'>Confirm</button>
        </div>
        <div id="footer">
            <div id='footercontent'>
                <img src="{% static 'event/tassel_logo.png' %}" class='img-responsive'>
                <h3>For any questions or enquiries, contact tasselsas@gmail.com</h3>
            </div>
        </div>
    </body>
</html>

<!--<div class='donateElement'>
    <h2>current: {{ count.item1 }}</h2>
    <form method ='POST'>
        {% csrf_token %}
        {{form|crispy}}
        <input type='submit' class='donationNum' name='item1' value='Proceed to Donation 1'>
    </form>
</div>
<div class='donateElement'>
    <h2>current: {{ count.item2 }}</h2>
    <form method ='POST'>
        {% csrf_token %}
        {{form|crispy}}
        <input type='submit' class='donationNum' name='item2' value='Proceed to Donation 2'>
    </form>
</div>
<div class='donateElement'>
    <h2>current: {{ count.item3 }}</h2>
    <form method ='POST'>
        {% csrf_token %}
        {{form|crispy}}
        <input type='submit' class='donationNum' name='item3' value='Proceed to Donation 3'>
    </form>
</div>
<div class='donateElement'>
    <h2>current: {{ count.item4 }}</h2>
    <form method ='POST'>
        {% csrf_token %}
        {{form|crispy}}
        <input type='submit' class='donationNum' name='item4' value='Proceed to Donation 4'>
    </form>
</div>
<div class='donateElement'>
    <h2>current: {{ count.general }}</h2>
    <form method ='POST'>
        {% csrf_token %}
        {{form_General|crispy}}
        <input type='submit' class='donationNum' name='generaldonations' value='Proceed to Donation 5'>
    </form>
</div>-->